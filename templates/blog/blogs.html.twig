{% extends "base.html.twig" %}

{% block body %}
	<div class="row">
		<h4>User's Blog</h4>
	</div>
	<div class="row">
		<h4><small>User 	: </small>{{ user.username }}</h4>
	</div>
	<div class="row">
		<h4><small>Email 	: </small>{{ user.email }}</h4>
	</div>
	<div class="row">
		<p><small>Member since : </small>{{ user.joined|date('d-M-Y') }} </p>
		<p> ( <small>last login</small> {{ user.lastlogin|date('d-M-Y') }} )</p>
	</div>

	<div class="row">
	<div id="blogs" class="row mx-lg-4">
		{% for blog in blogs %}
		<div class="col-md-6 py-3 px-lg-5">
			<div class="card" style="width: 18rem;">
				<div class="card-header">
					<h4 class="card-title">{{ blog.title }} <span class="badge badge-sm badge-primary">{{ blog.statestr|blog_state }}</span></h4>
				</div>
				<div class="card-body">
					<h5 class="card-text">
						{{ blog.body }}
					</h5>
				</div>
				<div class="card-footer">
					<a type="button" role="button" class="btn btn-sm btn-secondary" href="{{ path('_blog_detail', {'id': blog.id }) }}">View</a>
					{% if app.user %}
						{% if blog.ownerID == app.user.id %}
							<a type="button" role="button" class="btn btn-sm btn-warning" href="{{ path('_blog_update', {'id': blog.id }) }}">Edit</a>
							<a type="button" role="button" class="btn btn-sm btn-danger" href="{{ path('_blog_delete', {'id': blog.id }) }}">Delete</a>
						{% endif %}
					{% endif %}
					<h6 class="card-text mb-2 text-muted"><small>Last update </small>{{ blog.updated|date("d-M-y") }}</h6>
				</div>
			</div>
		</div>
		{% endfor %}
	</div>
	</div>
{% endblock %}