<nav class="navbar navbar-expand-sm navbar-dark text-black bg-info mb-3">
    <div class="container">
    {% if app.user %}
        <a href="/" class="navbar-brand">{{ app.user.username }}<small>&nbsp(dev version)</small></a>
    {% else %}
        <a href="/" class="navbar-brand">Abraham Kurnanto<small>&nbsp(dev version)</small></a>
    {% endif %}
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#mobile-nav">
            <span class="navbar-toggler-icon"></span>
        </button>

    <div class="collapse navbar-collapse text-black" id="mobile-nav">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a href="{{ path('_blogs') }}" class="nav-link">Home</a>
            </li>
            {% if app.user %}
                {% if  app.user.username == 'admin' %}
            <li class="nav-item">
                <a href="{{ path('_admin') }}" class="nav-link">Users</a>
            </li>
                {% endif %}
            {% endif %}
            {% if app.user %}
            <li class="nav-item">
                <a href="{{ path('_blog_new') }}" class="nav-link">New</a>
            </li>
            <li class="nav-item">
                <div class="dropdown">
                    <button class="btn btn-warning text-white dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        <i class="fa fa-user-circle fa-2x"></i>
                    </button>

                    <ul class="dropdown-menu bg-secondary text-white" style="width:max-content; height:max-content; padding:10px;" aria-labelledby="dropdownMenu1">
                        <li>
                            <h4 class="text-center">{{ app.user.getUsername() }}</h4>
                            <p class="text-center">{{ app.user.getEmail() }}</p>
                            <p><small>Joined {{ app.user.joinedDate|date('d-M-Y') }}</small></p>
                            <p><small>Last login {{ app.user.lastloginDate|date('d-M-Y') }}</small></p>
                            <a class="btn btn-sm btn-info pull-left" style="padding:5px" 
                            href="{{ path('_user_profile') }}">My Profile</a>
                            <a class="btn btn-sm btn-warning pull-right" style="padding:5px" 
                            href="{{ path('app_signout') }}">Sign out</a>
                        </li>
                    </ul>
                </div>
            </li>
            {% else %}
            <li class="nav-item">
                <a href="{{ path('app_signup', {'username': 'new user'}) }}" class="nav-link">Sign up</a>
            </li>
            <li class="nav-item">
                <a href="{{ path('app_signin') }}" class="nav-link">Login</a>
            </li>
            {% endif %}
        </ul>
    </div>
    </div>
</nav>